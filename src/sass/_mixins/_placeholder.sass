@mixin optional-at-root($sel) // causes everything within it to be emitted at the root of the document instead of using the normal nesting
  @at-root #{if(not &, $sel, selector-append(&, $sel))} //  ternary operator
    @content;

@mixin placeholder
  @include optional-at-root('::-webkit-input-placeholder')
    @content;

  @include optional-at-root(':-moz-placeholder')
    @content;

  @include optional-at-root('::-moz-placeholder')
    @content;

  @include optional-at-root(':-ms-input-placeholder')
    @content;